#!/bin/sh

unset LD_PRELOAD

/sbin/rmmod warm 2> /dev/null
/sbin/insmod ./tools/warm_2.6.24.ko

# theoretically GP2X apps can make use of more RAM, because
# Wiz has 2.6 kernel (larger memory requirements) and larger
# reserved areas, so we mount some swap here just in case.
mkswap swapfile
swapon swapfile

./gp2xmenu --view-game

swapoff swapfile
/sbin/rmmod warm 2> /dev/null
